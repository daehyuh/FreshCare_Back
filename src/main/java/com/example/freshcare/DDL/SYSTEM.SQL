CREATE TABLE LAUNDRYROOM
(
    LAUNDRYIDX  NUMBER(20) PRIMARY KEY,
    LAUNDRYNAME VARCHAR2(100)
);
CREATE SEQUENCE LAUNDRY_SEQ START WITH 0 MINVALUE 0;

CREATE TABLE MACHIEN
(
    MACHIENIDX    NUMBER(20) PRIMARY KEY,
    LAUNDRYIDX    NUMBER(20) REFERENCES LAUNDRYROOM (LAUNDRYIDX) NOT NULL,
    MACHIENNAME   VARCHAR2(100) UNIQUE                           NOT NULL,
    MACHIENSTATUS NUMBER(1) CHECK (MACHIENSTATUS IN (0, 1))
);

CREATE TABLE USERTABLE
(
    USERIDX   NUMBER(20) PRIMARY KEY,
    USERROOM  VARCHAR2(100) UNIQUE NOT NULL,
    USEREMAIL VARCHAR2(100) UNIQUE NOT NULL,
    USERPW    VARCHAR2(100)        NOT NULL
);
CREATE SEQUENCE USER_SEQ START WITH 0 MINVALUE 0;
--DROP TABLE USERTABLE CASCADE CONSTRAINTS ;
--DROP TABLE USER_SEQ;


INSERT INTO USERTABLE
VALUES (USER_SEQ.nextval, '710-1', 'daehyuh@hufs.ac.kr', 1234);
INSERT INTO USERTABLE
VALUES (USER_SEQ.nextval, '710-2', 'daehyuh2@hufs.ac.kr', 1234);
commit;

CREATE TABLE LOGTABLE
(
    LOGIDX     NUMBER(20) PRIMARY KEY,
    MACHIENIDX NUMBER(20) REFERENCES MACHIEN (MACHIENIDX),
    USERIDX    NUMBER(20) REFERENCES USERTABLE (USERIDX),
    WASHTIME   NUMBER(20) CHECK (WASHTIME < 100),
    LOGDATE    DATE NOT NULL,
    LOGSTAUS   NUMBER(1) CHECK (LOGSTAUS IN (0, 1))
);